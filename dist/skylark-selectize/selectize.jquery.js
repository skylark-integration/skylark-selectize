/**
 * skylark-selectize - A version of jquery.appendgrid that ported to running on skylarkjs ui.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-selectize/
 * @license MIT
 */
define(["skylark-jquery","./Selectize","./defaults","./utils"],function(t,e,l){return t.fn.selectize=function(i){var o=t.fn.selectize.defaults,a=t.extend({},o,i),r=a.dataAttr,n=a.labelField,s=a.valueField,p=a.disabledField,u=a.optgroupField,d=a.optgroupLabelField,f=a.optgroupValueField;return this.each(function(){if(!this.selectize){var h=t(this),c=this.tagName.toLowerCase(),v=h.attr("placeholder")||h.attr("data-placeholder");v||a.allowEmptyOption||(v=h.children('option[value=""]').text());var g={placeholder:v,options:[],optgroups:[],items:[]};"select"===c?function(e,i){var o,h,c,v,g=i.options,m={},y=function(t){var e=r&&t.attr(r);return"string"==typeof e&&e.length?JSON.parse(e):null},w=function(e,o){e=t(e);var r=l.hash_key(e.val());if(r||a.allowEmptyOption)if(m.hasOwnProperty(r)){if(o){var d=m[r][u];d?t.isArray(d)?d.push(o):m[r][u]=[d,o]:m[r][u]=o}}else{var f=y(e)||{};f[n]=f[n]||e.text(),f[s]=f[s]||r,f[p]=f[p]||e.prop("disabled"),f[u]=f[u]||o,m[r]=f,g.push(f),e.is(":selected")&&i.items.push(r)}},O=function(e){var l,o,a,r,n;for((a=(e=t(e)).attr("label"))&&((r=y(e)||{})[d]=a,r[f]=a,r[p]=e.prop("disabled"),i.optgroups.push(r)),l=0,o=(n=t("option",e)).length;l<o;l++)w(n[l],a)};for(i.maxItems=e.attr("multiple")?null:1,o=0,h=(v=e.children()).length;o<h;o++)"optgroup"===(c=v[o].tagName.toLowerCase())?O(v[o]):"option"===c&&w(v[o])}(h,g):function(e,l){var i,o,p,u,d=e.attr(r);if(d)for(l.options=JSON.parse(d),i=0,o=l.options.length;i<o;i++)l.items.push(l.options[i][s]);else{var f=t.trim(e.val()||"");if(!a.allowEmptyOption&&!f.length)return;for(i=0,o=(p=f.split(a.delimiter)).length;i<o;i++)(u={})[n]=p[i],u[s]=p[i],l.options.push(u);l.items=p}}(h,g),new e(h,t.extend(!0,{},o,g,i))}})},t.fn.selectize.defaults=e.defaults,t.fn.selectize.support={validity:SUPPORTS_VALIDITY_API},t});
//# sourceMappingURL=sourcemaps/selectize.jquery.js.map
