{"version":3,"sources":["plugins/drag_drop/plugin.js"],"names":["define","$","Selectize","options","fn","sortable","Error","this","settings","mode","original","self","lock","$control","data","disable","apply","arguments","unlock","enable","setup","items","forcePlaceholderSize","disabled","isLocked","start","e","ui","placeholder","css","helper","overflow","stop","active","$activeItems","slice","values","children","each","push","attr","setValue","setActiveItem"],"mappings":";;;;;;;AAAAA,QACC,iBACA,mBACC,SAASC,EAAEC,GAiBZA,EAAUF,OAAO,YAAa,SAASG,GACtC,IAAKF,EAAEG,GAAGC,SAAU,MAAM,IAAIC,MAAM,yDACpC,GAA2B,UAAvBC,KAAKC,SAASC,KAAlB,CACA,IAGKC,EAHDC,EAAOJ,KAEXI,EAAKC,MACAF,EAAWC,EAAKC,KACb,WACN,IAAIP,EAAWM,EAAKE,SAASC,KAAK,YAElC,OADIT,GAAUA,EAASU,UAChBL,EAASM,MAAML,EAAMM,aAI9BN,EAAKO,OAAS,WACb,IAAIR,EAAWC,EAAKO,OACpB,OAAO,WACN,IAAIb,EAAWM,EAAKE,SAASC,KAAK,YAElC,OADIT,GAAUA,EAASc,SAChBT,EAASM,MAAML,EAAMM,YALhB,GASdN,EAAKS,MAAQ,WACZ,IAAIV,EAAWC,EAAKS,MACpB,OAAO,WACNV,EAASM,MAAMT,KAAMU,WAErB,IAAIJ,EAAWF,EAAKE,SAASR,UAC5BgB,MAAO,eACPC,sBAAsB,EACtBC,SAAUZ,EAAKa,SACfC,MAAO,SAASC,EAAGC,GAClBA,EAAGC,YAAYC,IAAI,QAASF,EAAGG,OAAOD,IAAI,UAC1ChB,EAASgB,KAAKE,SAAU,aAEzBC,KAAM,WACLnB,EAASgB,KAAKE,SAAU,WACxB,IAAIE,EAAStB,EAAKuB,aAAevB,EAAKuB,aAAaC,QAAU,KACzDC,KACJvB,EAASwB,SAAS,gBAAgBC,KAAK,WACtCF,EAAOG,KAAKtC,EAAEM,MAAMiC,KAAK,iBAE1B7B,EAAK8B,SAASL,GACdzB,EAAK+B,cAAcT,OArBV","file":"../../../plugins/drag_drop/plugin.js","sourcesContent":["define([\n\t\"skylark-jquery\",\n\t\"../../Selectize\"\n],function($,Selectize) {\n\t/**\n\t * Plugin: \"drag_drop\" (selectize.js)\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\n\tSelectize.define('drag_drop', function(options) {\n\t\tif (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n\t\tif (this.settings.mode !== 'multi') return;\n\t\tvar self = this;\n\n\t\tself.lock = (function() {\n\t\t\tvar original = self.lock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.disable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\n\t\tself.unlock = (function() {\n\t\t\tvar original = self.unlock;\n\t\t\treturn function() {\n\t\t\t\tvar sortable = self.$control.data('sortable');\n\t\t\t\tif (sortable) sortable.enable();\n\t\t\t\treturn original.apply(self, arguments);\n\t\t\t};\n\t\t})();\n\n\t\tself.setup = (function() {\n\t\t\tvar original = self.setup;\n\t\t\treturn function() {\n\t\t\t\toriginal.apply(this, arguments);\n\n\t\t\t\tvar $control = self.$control.sortable({\n\t\t\t\t\titems: '[data-value]',\n\t\t\t\t\tforcePlaceholderSize: true,\n\t\t\t\t\tdisabled: self.isLocked,\n\t\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t\tui.placeholder.css('width', ui.helper.css('width'));\n\t\t\t\t\t\t$control.css({overflow: 'visible'});\n\t\t\t\t\t},\n\t\t\t\t\tstop: function() {\n\t\t\t\t\t\t$control.css({overflow: 'hidden'});\n\t\t\t\t\t\tvar active = self.$activeItems ? self.$activeItems.slice() : null;\n\t\t\t\t\t\tvar values = [];\n\t\t\t\t\t\t$control.children('[data-value]').each(function() {\n\t\t\t\t\t\t\tvalues.push($(this).attr('data-value'));\n\t\t\t\t\t\t});\n\t\t\t\t\t\tself.setValue(values);\n\t\t\t\t\t\tself.setActiveItem(active);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t})();\n\n\t});\n});"]}