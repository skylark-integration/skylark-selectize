{"version":3,"sources":["plugins/remove_button/plugin.js"],"names":["define","Selectize","utils","options","$","extend","label","title","className","append","this","settings","mode","thisRef","original","self","html","escape_html","setup","render_item","render","item","data","html_container","apply","arguments","html_element","pos","search","substring","$control","on","e","preventDefault","isLocked","$item","currentTarget","parent","setActiveItem","deleteSelection","setCaret","items","length","multiClose","id","$input","context","attr","clear","singleClose"],"mappings":";;;;;;;AAAAA,QACC,kBACA,eACC,SAASC,EAAUC,GAiBpBD,EAAUD,OAAO,gBAAiB,SAASG,GAC1CA,EAAUC,EAAEC,QACVC,MAAY,UACZC,MAAY,SACZC,UAAY,SACZC,QAAY,GACVN,GA+FwB,WAAvBO,KAAKC,SAASC,KA9CD,SAASC,EAASV,GAElC,IAgBKW,EAhBDC,EAAOF,EACPG,EAAO,uCAAyCb,EAAQK,UAAY,0BAA4BN,EAAMe,YAAYd,EAAQI,OAAS,KAAOJ,EAAQG,MAAQ,OAc9JO,EAAQK,OACHJ,EAAWC,EAAKG,MACb,WAEN,GAAIf,EAAQM,OAAQ,CACnB,IAAIU,EAAcJ,EAAKJ,SAASS,OAAOC,KACvCN,EAAKJ,SAASS,OAAOC,KAAO,SAASC,GACpC,OAZkBC,EAYJJ,EAAYK,MAAMX,EAASY,WAZPC,EAYmBV,EAXpDW,EAAMJ,EAAeK,OAAO,mBACzBL,EAAeM,UAAU,EAAGF,GAAOD,EAAeH,EAAeM,UAAUF,GAFtE,IAASJ,EAAgBG,EACjCC,GAeHb,EAASU,MAAMX,EAASY,WAGxBZ,EAAQiB,SAASC,GAAG,QAAS,IAAM5B,EAAQK,UAAW,SAASwB,GAE9D,GADAA,EAAEC,kBACElB,EAAKmB,SAAT,CAEA,IAAIC,EAAQ/B,EAAE4B,EAAEI,eAAeC,SAC/BtB,EAAKuB,cAAcH,GACfpB,EAAKwB,mBACRxB,EAAKyB,SAASzB,EAAK0B,MAAMC,aAY7BC,CAAWjC,KAAMP,GAjGA,SAASU,EAASV,GAEnCA,EAAQK,UAAY,gBAEpB,IAgBKM,EAhBDC,EAAOF,EACPG,EAAO,uCAAyCb,EAAQK,UAAY,0BAA4BN,EAAMe,YAAYd,EAAQI,OAAS,KAAOJ,EAAQG,MAAQ,OAc9JO,EAAQK,OACHJ,EAAWC,EAAKG,MACb,WAEN,GAAIf,EAAQM,OAAQ,CACnB,IAAImC,EAAKxC,EAAEW,EAAK8B,OAAOC,SAASC,KAAK,MAGjC5B,GAFaf,EAAE,IAAIwC,GAEL7B,EAAKJ,SAASS,OAAOC,MACvCN,EAAKJ,SAASS,OAAOC,KAAO,SAASC,GACpC,OAfkBC,EAeJJ,EAAYK,MAAMX,EAASY,WAfPC,EAemBV,EAdjDZ,EAAE,UAAUK,OAAOc,GACxBd,OAAOiB,GAFG,IAASH,EAAgBG,GAmBpCZ,EAASU,MAAMX,EAASY,WAGxBZ,EAAQiB,SAASC,GAAG,QAAS,IAAM5B,EAAQK,UAAW,SAASwB,GAC9DA,EAAEC,iBACElB,EAAKmB,UAETnB,EAAKiC,YAsDRC,CAAYvC,KAAMP","file":"../../../plugins/remove_button/plugin.js","sourcesContent":["define([\n\t\"../../Selectize\",\n\t\"../../utils\"\n],function(Selectize,utils) {\n\t/**\n\t * Plugin: \"remove_button\" (selectize.js)\n\t * Copyright (c) 2013 Brian Reavis & contributors\n\t *\n\t * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n\t * file except in compliance with the License. You may obtain a copy of the License at:\n\t * http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software distributed under\n\t * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n\t * ANY KIND, either express or implied. See the License for the specific language\n\t * governing permissions and limitations under the License.\n\t *\n\t * @author Brian Reavis <brian@thirdroute.com>\n\t */\n\n\tSelectize.define('remove_button', function(options) {\n\t\toptions = $.extend({\n\t\t\t\tlabel     : '&times;',\n\t\t\t\ttitle     : 'Remove',\n\t\t\t\tclassName : 'remove',\n\t\t\t\tappend    : true\n\t\t\t}, options);\n\n\t\t\tvar singleClose = function(thisRef, options) {\n\n\t\t\t\toptions.className = 'remove-single';\n\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + utils.escape_html(options.title) + '\">' + options.label + '</a>';\n\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\treturn $('<span>').append(html_container)\n\t\t\t\t\t\t.append(html_element);\n\t\t\t\t};\n\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar id = $(self.$input.context).attr('id');\n\t\t\t\t\t\t\tvar selectizer = $('#'+id);\n\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\n\t\t\t\t\t\t\tself.clear();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\n\t\t\tvar multiClose = function(thisRef, options) {\n\n\t\t\t\tvar self = thisRef;\n\t\t\t\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + utils.escape_html(options.title) + '\">' + options.label + '</a>';\n\n\t\t\t\t/**\n\t\t\t\t * Appends an element as a child (with raw HTML).\n\t\t\t\t *\n\t\t\t\t * @param {string} html_container\n\t\t\t\t * @param {string} html_element\n\t\t\t\t * @return {string}\n\t\t\t\t */\n\t\t\t\tvar append = function(html_container, html_element) {\n\t\t\t\t\tvar pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n\t\t\t\t\treturn html_container.substring(0, pos) + html_element + html_container.substring(pos);\n\t\t\t\t};\n\n\t\t\t\tthisRef.setup = (function() {\n\t\t\t\t\tvar original = self.setup;\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\t// override the item rendering method to add the button to each\n\t\t\t\t\t\tif (options.append) {\n\t\t\t\t\t\t\tvar render_item = self.settings.render.item;\n\t\t\t\t\t\t\tself.settings.render.item = function(data) {\n\t\t\t\t\t\t\t\treturn append(render_item.apply(thisRef, arguments), html);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\toriginal.apply(thisRef, arguments);\n\n\t\t\t\t\t\t// add event listener\n\t\t\t\t\t\tthisRef.$control.on('click', '.' + options.className, function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (self.isLocked) return;\n\n\t\t\t\t\t\t\tvar $item = $(e.currentTarget).parent();\n\t\t\t\t\t\t\tself.setActiveItem($item);\n\t\t\t\t\t\t\tif (self.deleteSelection()) {\n\t\t\t\t\t\t\t\tself.setCaret(self.items.length);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t};\n\t\t\t\t})();\n\t\t\t};\n\n\t\t\tif (this.settings.mode === 'single') {\n\t\t\t\tsingleClose(this, options);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tmultiClose(this, options);\n\t\t\t}\n\t});\n});"]}